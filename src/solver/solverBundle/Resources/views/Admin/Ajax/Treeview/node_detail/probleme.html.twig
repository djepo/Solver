<h2>Détail du problème</h2></br>
<form id="form" action="{{path('admin_ajax_liaisonstreeview_nodedetail_ProblemeUpdate', {'id': probleme.id})}}" method="post" {{ form_enctype(form) }}>
    {{ form_widget(form) }}                    
    <button id="bouton" type=submit>Ok</button>
</form>

<script>
    $('#form').submit(function(){
        form_serialized=$(this).serialize();
        
        $.ajax({
		type: "POST",
 		data: form_serialized,
 		url: $(this).attr("action"),
 		success: function(retour){
                            updateTreeview({{probleme.id}},$('#solver_solverbundle_problemestype_libelle').val(), $('#solver_solverbundle_problemestype_affiche').attr('checked'));
                        },
                error: function (retour){
                        alert ('Une erreur s\'est produite.');
                    },                   
 	});
        
        return false;
    });
    
    function updateTreeview(id, libelle, checkValue)
    {  
        if (checkValue=="checked") {            
            $('#container_treeview').jstree("check_node",'#p'+id,libelle);
        } else {            
            $('#container_treeview').jstree("uncheck_node",'#p'+id,libelle);
        }        
        $('#container_treeview').jstree("rename_node",'#p'+id,libelle);                
    };    
</script>